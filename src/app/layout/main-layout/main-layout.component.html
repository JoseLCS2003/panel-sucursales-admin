<div class="min-h-screen bg-gray-50 flex transition-all duration-300">
  <!-- Barra lateral (Sidebar) -->
  <aside
    [class.w-64]="isSidebarOpen"
    [class.w-20]="!isSidebarOpen"
    [class.-translate-x-full]="!isSidebarOpen && isMobile"
    class="fixed inset-y-0 left-0 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white shadow-2xl z-30 transition-all duration-300 md:translate-x-0"
  >
    <div
      class="p-4 flex items-center justify-center h-16 border-b border-gray-700"
    >
      <span
        *ngIf="isSidebarOpen"
        class="text-2xl font-bold tracking-wider bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent"
      >
        Admin Panel
      </span>
      <svg
        *ngIf="!isSidebarOpen"
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-blue-400"
      >
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
        <polyline points="9 22 9 12 15 12 15 22" />
      </svg>
    </div>

    <nav class="flex flex-col p-3 space-y-2 mt-4">
      <a
        *ngFor="let item of navItems"
        [routerLink]="item.route"
        routerLinkActive="bg-gradient-to-r from-blue-600 to-indigo-600 shadow-lg"
        [routerLinkActiveOptions]="{ exact: false }"
        class="flex items-center rounded-xl p-3 cursor-pointer transition-all duration-200 group hover:bg-gray-700"
        [title]="item.name"
      >
        <!-- Icono Panel Sucursales -->
        <svg
          *ngIf="item.icon === 'home'"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="w-6 h-6 flex-shrink-0"
        >
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
          <polyline points="9 22 9 12 15 12 15 22" />
        </svg>

        <!-- Icono Clientes -->
        <svg
          *ngIf="item.icon === 'users'"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="w-6 h-6 flex-shrink-0"
        >
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
          <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </svg>

        <!-- Icono Empleados -->
        <svg
          *ngIf="item.icon === 'briefcase'"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="w-6 h-6 flex-shrink-0"
        >
          <rect width="20" height="14" x="2" y="7" rx="2" ry="2" />
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
        </svg>

        <span
          *ngIf="isSidebarOpen"
          class="ml-4 whitespace-nowrap text-sm font-medium"
        >
          {{ item.name }}
        </span>
      </a>
    </nav>

    <!-- Botón de Cerrar Sesión -->
    <button
      (click)="logout()"
      class="absolute bottom-4 left-2 right-2 flex items-center justify-center p-3 text-red-400 hover:bg-red-900 hover:bg-opacity-10 rounded-xl transition-all duration-200 border border-red-900 border-opacity-20 hover:border-opacity-40"
      [title]="isSidebarOpen ? 'Cerrar Sesión' : 'Salir'"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
        <polyline points="16 17 21 12 16 7" />
        <line x1="21" x2="9" y1="12" y2="12" />
      </svg>
      <span
        *ngIf="isSidebarOpen"
        class="ml-3 whitespace-nowrap text-sm font-medium"
      >
        Cerrar Sesión
      </span>
    </button>
  </aside>

  <!-- Overlay para móviles cuando el sidebar está abierto -->
  <div
    *ngIf="isSidebarOpen && isMobile"
    (click)="toggleSidebar()"
    class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-20 md:hidden transition-opacity duration-300"
  ></div>

  <!-- Contenido Principal -->
  <div
    [class.md:ml-64]="isSidebarOpen"
    [class.md:ml-20]="!isSidebarOpen"
    class="flex-1 transition-all duration-300 ml-0"
  >
    <!-- Barra superior (Header) -->
    <header
      class="sticky top-0 bg-white bg-opacity-80 shadow-sm z-10 h-16 flex items-center justify-between px-6 border-b border-gray-200"
    >
      <!-- Botón de alternancia de la barra lateral -->
      <button
        (click)="toggleSidebar()"
        class="p-2 rounded-xl hover:bg-gray-100 focus:outline-none transition duration-200"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-gray-600"
        >
          <line x1="4" x2="20" y1="12" y2="12" />
          <line x1="4" x2="20" y1="6" y2="6" />
          <line x1="4" x2="20" y1="18" y2="18" />
        </svg>
      </button>

      <!-- Título de la sección actual -->
      <h1 class="text-xl font-bold text-gray-800">{{ activeSectionTitle }}</h1>

      <!-- Perfil de usuario / Notificaciones -->
      <div class="flex items-center space-x-3">
        <div
          class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold shadow-lg"
        >
          AD
        </div>
      </div>
    </header>

    <!-- Área de Contenido Dinámico -->
    <main class="p-6 md:p-10">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
